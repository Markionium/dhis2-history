<h3>$i18n.getString( "name_based_data_entry" )</h3>

<form id="selectRecordingForm" name="selectRecordingForm" method="post" action="selectDataRecording.action">

<div>
    <input type="hidden" id="id" name="id" value="$patient.id">
</div>


<div id="patientInfo">
<table>
    <tr>
        <td colspan="2">$i18n.getString( "identifier" ):</td>
        <td colspan="2">$encoder.htmlEncode( $patientIdentifier.identifier )</td>   
        <td colspan="2">$i18n.getString( "registration_date" ):</td>
        <td colspan="2">$format.formatDate( $patient.registrationDate )</td>
    </tr>
    <tr>      
        <td>$i18n.getString( "full_name" ):</td>
        <td>$encoder.htmlEncode( $patient.firstName ) $encoder.htmlEncode( $patient.middleName ) $encoder.htmlEncode( $patient.lastName )</td>
        <td>$i18n.getString( "gender" ):</td>
        <td>$encoder.htmlEncode( $patient.gender )</td>   
        <td>$i18n.getString( "age" ):</td>
        <td>$encoder.htmlEncode( $age )</td>
        <td>$i18n.getString( "date_of_birth" ):</td>
        <td>$format.formatDate( $patient.birthDate )</td>
    </tr>       
    <tr>      
        <td colspan="8">$i18n.getString( "address" )</td>        
    </tr>
    <tr>      
        <td>$i18n.getString( "village" ):</td>
        <td></td>
        <td>$i18n.getString( "sub_center" ):</td>
        <td></td>
        <td>$i18n.getString( "block" ):</td>
        <td></td>
        <td>$i18n.getString( "district" ):</td>
        <td></td>
    </tr>        
</table>
</div>

<hr style="clear:both">

<table>    
   <tr>
        <td><label for="programId">$i18n.getString( "program" )</label></td>
        <td>
            <select id="programId" name="programId" style="min-width:350px" onchange="document.getElementById( 'selectRecordingForm' ).submit();" #if( $programs.size() == 0 ) disabled="disabled" #end>
                <option value="0">[$i18n.getString( "select" )]</option>
                #foreach( $program in $programs )
                    <option value="$program.id" #if( $programId && $program.id == $programId ) selected="selected" #end>$encoder.htmlEncode( $program.name )</option>
                #end
            </select>
        </td>
    </tr>
    
    <tr>
        <td><label for="programStageId">$i18n.getString( "program_stage" )</label></td>
        <td>
            <select id="programStageId" name="programStageId" style="min-width:350px" onchange="document.getElementById( 'selectRecordingForm' ).submit();" #if( $programStages.size() == 0 ) disabled="disabled" #end>
                <option value="0">[$i18n.getString( "select" )]</option>
                #foreach( $programStage in $programStages )
                    <option value="$programStage.id" #if( $programStageId && $programStage.id == $programStageId ) selected="selected" #end>$encoder.htmlEncode( $programStage.name )</option>
                #end
            </select>
        </td>
    </tr>   
    
</table>

</form>

<hr style="clear:both">
