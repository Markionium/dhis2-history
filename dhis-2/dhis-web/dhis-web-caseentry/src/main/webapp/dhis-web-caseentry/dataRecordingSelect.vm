#parse( "/dhis-web-caseentry/select.vm" )
        
<form id="selectRecordingForm" name="selectRecordingForm" method="post" action="selectDataRecording.action">

<div>
    <input type="hidden" id="id" name="id" value="$patient.id">
</div>


<table>
    <tr>
        <td><strong>$i18n.getString( "full_name" ):</strong></td>
        <td>           
            $encoder.htmlEncode( $patient.getFullName() )  
        </td>
    </tr>
    <tr>
        <td><strong>$i18n.getString( "gender" ):</strong></td>
        <td>            
            $encoder.htmlEncode( $patient.gender )
        </td>
    </tr>    
    <tr>
        <td><strong>$i18n.getString( "date_of_birth" ):</strong></td>
        <td>            
            $format.formatDate( $patient.birthDate )
        </td>
    </tr>
    <tr>
        <td><strong>$i18n.getString( "age" ):</strong></td>
        <td>            
            $encoder.htmlEncode( $patient.getAge() )
        </td>
    </tr>    

</table>


<hr style="clear:both">

<table>    
   <tr>
        <td><label for="programId">$i18n.getString( "program" )</label></td>
        <td>
            <select id="programId" name="programId" style="min-width:350px" onchange="document.getElementById( 'selectRecordingForm' ).submit();" #if( $programs.size() == 0 ) disabled="disabled" #end>
                <option value="0">[$i18n.getString( "select" )]</option>
                #foreach( $program in $programs )
                    <option value="$program.id" #if( $programId && $program.id == $programId ) selected="selected" #end>$encoder.htmlEncode( $program.name )</option>
                #end
            </select>
        </td>
    </tr>
    
    <tr>
        <td><label for="programStageId">$i18n.getString( "program_stage" )</label></td>
        <td>
            <select id="programStageId" name="programStageId" style="min-width:350px" onchange="document.getElementById( 'selectRecordingForm' ).submit();" #if( $programStages.size() == 0 ) disabled="disabled" #end>
                <option value="0">[$i18n.getString( "select" )]</option>
                #foreach( $programStage in $programStages )
                    <option value="$programStage.id" #if( $programStageId && $programStage.id == $programStageId ) selected="selected" #end>$encoder.htmlEncode( $programStage.name )</option>
                #end
            </select>
        </td>        
        #if( $programStageInstance )
            <td>&nbsp;</td>
            <td><label for="dueDate">$i18n.getString( "due_date" ) </label></td>
            <td><input type="text" id="dueDate" name="dueDate" value="$!format.formatDate( $programStageInstance.dueDate )" disabled="disabled" </td>
            <td>&nbsp;</td>
            <td><label for="executionDate">$i18n.getString( "execution_date" ) </label></td>
            <td><input type="text" id="executionDate" name="executionDate" value="$!format.formatDate( $programStageInstance.executionDate )" onchange="saveExecutionDate( $programStageInstance.id, '$encoder.jsEncode( $programStageInstance.programStage.name )' )" >
                <img src="../images/calendar_icon.gif" width="16" height="16" id="getExecutionDate" style="cursor: pointer;" title="$i18n.getString("date_selector")" onmouseover="this.style.background='orange';" onmouseout="this.style.background=''" alt="$i18n.getString( "execution_date" )"></td>
                <script type="text/javascript">
                    Calendar.setup({
                        inputField     :    "executionDate",      // id of the input field
                        ifFormat       :    "$i18n.getString("format.date.label")",       // format of the input field
                        button         :    "getExecutionDate"   // trigger for the calendar (button ID)
                    });
                </script>                
        #end
    </tr>   
    
</table>

</form>

<hr style="clear:both">
