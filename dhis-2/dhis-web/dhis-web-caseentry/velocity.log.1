2009-10-18 20:52:51,140 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2009-10-18 20:52:51,140 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2009-10-18 20:52:51,140 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2009-10-18 20:52:51,140 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:52:51,140 - Do unicode file recognition:  false
2009-10-18 20:52:51,140 - FileResourceLoader : adding path 'C:\Coding\DHIS-Patient\dhis-patient\dhis-2\dhis-web\dhis-web-caseentry\target\work\webapp'
2009-10-18 20:52:51,140 - ResourceLoader instantiated: org.apache.struts2.views.velocity.StrutsResourceLoader
2009-10-18 20:52:51,156 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2009-10-18 20:52:51,156 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2009-10-18 20:52:51,156 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2009-10-18 20:52:51,156 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2009-10-18 20:52:51,156 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2009-10-18 20:52:51,156 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2009-10-18 20:52:51,156 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionDirective
2009-10-18 20:52:51,156 - Loaded User Directive: org.apache.struts2.views.velocity.components.BeanDirective
2009-10-18 20:52:51,156 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxDirective
2009-10-18 20:52:51,156 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxListDirective
2009-10-18 20:52:51,156 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComboBoxDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComponentDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.DateDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.DivDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.DoubleSelectDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.FileDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.FormDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.HeadDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.HiddenDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.AnchorDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.I18nDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.IncludeDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.LabelDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.ParamDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.PasswordDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.PushDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.PropertyDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.RadioDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.SelectDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.SetDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.SubmitDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.ResetDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextAreaDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextFieldDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.TokenDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.URLDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionErrorDirective
2009-10-18 20:52:51,171 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionMessageDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.FieldErrorDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.OptionTransferSelectDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.UpDownSelectDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.BeanDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxListDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComboBoxDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComponentDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.DateDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.DivDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.DoubleSelectDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.FileDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.FormDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.HeadDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.HiddenDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.AnchorDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.I18nDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.IncludeDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.LabelDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.ParamDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.PasswordDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.PushDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.PropertyDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.RadioDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.SelectDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.SetDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.SubmitDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.ResetDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextAreaDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextFieldDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.TokenDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.URLDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionErrorDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionMessageDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.FieldErrorDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.OptionTransferSelectDirective
2009-10-18 20:52:51,187 - Loaded User Directive: org.apache.struts2.views.velocity.components.UpDownSelectDirective
2009-10-18 20:52:51,203 - Created '20' parsers.
2009-10-18 20:52:51,218 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2009-10-18 20:52:51,218 - Velocimacro : Default library not found.
2009-10-18 20:52:51,218 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2009-10-18 20:52:51,218 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2009-10-18 20:52:51,218 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2009-10-18 20:52:51,218 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2009-10-18 20:52:51,250 - ResourceManager : found /main.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:52:51,296 - ResourceManager : found settings.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:52:51,312 - Velocimacro : added #objectList(  objectName objects ) : source = macros.vm
2009-10-18 20:52:51,312 - Velocimacro : added #alternate(  mark ) : source = macros.vm
2009-10-18 20:52:51,312 - Velocimacro : added #formatBool(  bool ) : source = macros.vm
2009-10-18 20:52:51,312 - Velocimacro : added #formatAggregationOperator(  operator ) : source = macros.vm
2009-10-18 20:52:51,312 - Velocimacro : added #formatType(  type ) : source = macros.vm
2009-10-18 20:52:51,312 - Velocimacro : added #openHelp(  id ) : source = macros.vm
2009-10-18 20:52:51,312 - ResourceManager : found macros.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:52:51,328 - ResourceManager : found /dhis-web-caseentry/menu.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:52:51,328 - Velocimacro : added #parseNode(  node ) : source = /dhis-web-commons/ouwt/orgunittree.vm
2009-10-18 20:52:51,343 - ResourceManager : found /dhis-web-commons/ouwt/orgunittree.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:52:51,343 - ResourceManager : found /dhis-web-caseentry/select.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:52:52,968 - ResourceManager : found /dhis-web-caseentry/visitPlanSelect.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:52:54,000 - ResourceManager : found /dhis-web-commons/ouwt/responseExpand.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:52:55,171 - ResourceManager : found /dhis-web-commons/ouwt/responseSelect.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:52:55,968 - ResourceManager : found /dhis-web-caseentry/visitPlan.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:55:04,484 - Log4JLogChute initialized using file 'velocity.log'
2009-10-18 20:55:04,484 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2009-10-18 20:55:04,484 - Default Properties File: org\apache\velocity\runtime\defaults\velocity.properties
2009-10-18 20:55:04,484 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2009-10-18 20:55:04,484 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:247)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.apache.struts2.views.velocity.VelocityManager.newVelocityEngine(VelocityManager.java:473)
	at org.apache.struts2.views.velocity.VelocityManager.init(VelocityManager.java:243)
	at org.apache.struts2.dispatcher.VelocityResult.doExecute(VelocityResult.java:131)
	at org.apache.struts2.dispatcher.StrutsResultSupport.execute(StrutsResultSupport.java:186)
	at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:265)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalUserInterceptor.intercept(WebWorkPortalUserInterceptor.java:82)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalModuleInterceptor.intercept(WebWorkPortalModuleInterceptor.java:85)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalMenuInterceptor.intercept(WebWorkPortalMenuInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalParamsInterceptor.intercept(WebWorkPortalParamsInterceptor.java:117)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.StyleInterceptor.intercept(StyleInterceptor.java:89)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.SystemSettingInterceptor.intercept(SystemSettingInterceptor.java:92)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.DataDictionaryModeInterceptor.intercept(DataDictionaryModeInterceptor.java:109)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.DisplayPropertyInterceptor.intercept(DisplayPropertyInterceptor.java:90)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.SortOrderInterceptor.intercept(SortOrderInterceptor.java:124)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.security.intercept.WebWorkSecurityInterceptor.intercept(WebWorkSecurityInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:122)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:126)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:148)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.AbstractPreResultListener.intercept(AbstractPreResultListener.java:71)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:52)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:468)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:395)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:264)
	at org.hisp.dhis.security.filter.RequiredLoginFilter.doFilter(RequiredLoginFilter.java:131)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.hisp.dhis.security.filter.AutomaticAccessFilter.doFilter(AutomaticAccessFilter.java:107)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.ui.logout.LogoutFilter.doFilter(LogoutFilter.java:108)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:217)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:193)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:148)
	at org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:535)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:865)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:307)
	at org.codehaus.classworlds.RealmClassLoader.loadClassDirect(RealmClassLoader.java:195)
	at org.codehaus.classworlds.DefaultClassRealm.loadClass(DefaultClassRealm.java:255)
	at org.codehaus.classworlds.DefaultClassRealm.loadClass(DefaultClassRealm.java:274)
	at org.codehaus.classworlds.RealmClassLoader.loadClass(RealmClassLoader.java:214)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:252)
	at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:401)
	at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:363)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)
	... 84 more
2009-10-18 20:55:04,484 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2009-10-18 20:55:04,484 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2009-10-18 20:55:04,484 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2009-10-18 20:55:04,500 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:55:04,500 - Do unicode file recognition:  false
2009-10-18 20:55:04,500 - FileResourceLoader : adding path 'C:\Coding\DHIS-Patient\dhis-patient\dhis-2\dhis-web\dhis-web-caseentry\target\work\webapp'
2009-10-18 20:55:04,500 - ResourceLoader instantiated: org.apache.struts2.views.velocity.StrutsResourceLoader
2009-10-18 20:55:04,500 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2009-10-18 20:55:04,500 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2009-10-18 20:55:04,500 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2009-10-18 20:55:04,500 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2009-10-18 20:55:04,500 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2009-10-18 20:55:04,500 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.BeanDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxListDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComboBoxDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComponentDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.DateDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.DivDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.DoubleSelectDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.FileDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.FormDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.HeadDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.HiddenDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.AnchorDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.I18nDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.IncludeDirective
2009-10-18 20:55:04,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.LabelDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.ParamDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.PasswordDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.PushDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.PropertyDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.RadioDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.SelectDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.SetDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.SubmitDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.ResetDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextAreaDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextFieldDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.TokenDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.URLDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionErrorDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionMessageDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.FieldErrorDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.OptionTransferSelectDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.UpDownSelectDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.BeanDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxListDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComboBoxDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComponentDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.DateDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.DivDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.DoubleSelectDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.FileDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.FormDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.HeadDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.HiddenDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.AnchorDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.I18nDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.IncludeDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.LabelDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.ParamDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.PasswordDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.PushDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.PropertyDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.RadioDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.SelectDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.SetDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.SubmitDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.ResetDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextAreaDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextFieldDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.TokenDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.URLDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionErrorDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionMessageDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.FieldErrorDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.OptionTransferSelectDirective
2009-10-18 20:55:04,531 - Loaded User Directive: org.apache.struts2.views.velocity.components.UpDownSelectDirective
2009-10-18 20:55:04,562 - Created '20' parsers.
2009-10-18 20:55:04,578 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2009-10-18 20:55:04,578 - Velocimacro : Default library not found.
2009-10-18 20:55:04,578 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2009-10-18 20:55:04,578 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2009-10-18 20:55:04,578 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2009-10-18 20:55:04,578 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2009-10-18 20:55:04,609 - ResourceManager : found /main.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:55:04,656 - ResourceManager : found settings.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:55:04,671 - Velocimacro : added #objectList(  objectName objects ) : source = macros.vm
2009-10-18 20:55:04,671 - Velocimacro : added #alternate(  mark ) : source = macros.vm
2009-10-18 20:55:04,671 - Velocimacro : added #formatBool(  bool ) : source = macros.vm
2009-10-18 20:55:04,671 - Velocimacro : added #formatAggregationOperator(  operator ) : source = macros.vm
2009-10-18 20:55:04,671 - Velocimacro : added #formatType(  type ) : source = macros.vm
2009-10-18 20:55:04,671 - Velocimacro : added #openHelp(  id ) : source = macros.vm
2009-10-18 20:55:04,671 - ResourceManager : found macros.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:55:04,687 - ResourceManager : found /dhis-web-caseentry/menu.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:55:04,687 - Velocimacro : added #parseNode(  node ) : source = /dhis-web-commons/ouwt/orgunittree.vm
2009-10-18 20:55:04,687 - ResourceManager : found /dhis-web-commons/ouwt/orgunittree.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:55:04,703 - ResourceManager : found /dhis-web-caseentry/select.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:55:06,046 - ResourceManager : found /dhis-web-caseentry/visitPlanSelect.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:55:06,937 - ResourceManager : found /dhis-web-commons/ouwt/responseExpand.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:55:07,640 - ResourceManager : found /dhis-web-commons/ouwt/responseSelect.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 20:55:08,437 - ResourceManager : found /dhis-web-caseentry/visitPlan.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:06:56,000 - Log4JLogChute initialized using file 'velocity.log'
2009-10-18 21:06:56,000 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2009-10-18 21:06:56,000 - Default Properties File: org\apache\velocity\runtime\defaults\velocity.properties
2009-10-18 21:06:56,000 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2009-10-18 21:06:56,000 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:247)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.apache.struts2.views.velocity.VelocityManager.newVelocityEngine(VelocityManager.java:473)
	at org.apache.struts2.views.velocity.VelocityManager.init(VelocityManager.java:243)
	at org.apache.struts2.dispatcher.VelocityResult.doExecute(VelocityResult.java:131)
	at org.apache.struts2.dispatcher.StrutsResultSupport.execute(StrutsResultSupport.java:186)
	at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:265)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalUserInterceptor.intercept(WebWorkPortalUserInterceptor.java:82)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalModuleInterceptor.intercept(WebWorkPortalModuleInterceptor.java:85)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalMenuInterceptor.intercept(WebWorkPortalMenuInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalParamsInterceptor.intercept(WebWorkPortalParamsInterceptor.java:117)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.StyleInterceptor.intercept(StyleInterceptor.java:89)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.SystemSettingInterceptor.intercept(SystemSettingInterceptor.java:92)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.DataDictionaryModeInterceptor.intercept(DataDictionaryModeInterceptor.java:109)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.DisplayPropertyInterceptor.intercept(DisplayPropertyInterceptor.java:90)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.SortOrderInterceptor.intercept(SortOrderInterceptor.java:124)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.security.intercept.WebWorkSecurityInterceptor.intercept(WebWorkSecurityInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:122)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:126)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:148)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.AbstractPreResultListener.intercept(AbstractPreResultListener.java:71)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:52)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:468)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:395)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:264)
	at org.hisp.dhis.security.filter.RequiredLoginFilter.doFilter(RequiredLoginFilter.java:131)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.hisp.dhis.security.filter.AutomaticAccessFilter.doFilter(AutomaticAccessFilter.java:107)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.ui.logout.LogoutFilter.doFilter(LogoutFilter.java:108)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:217)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:193)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:148)
	at org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:535)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:865)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:307)
	at org.codehaus.classworlds.RealmClassLoader.loadClassDirect(RealmClassLoader.java:195)
	at org.codehaus.classworlds.DefaultClassRealm.loadClass(DefaultClassRealm.java:255)
	at org.codehaus.classworlds.DefaultClassRealm.loadClass(DefaultClassRealm.java:274)
	at org.codehaus.classworlds.RealmClassLoader.loadClass(RealmClassLoader.java:214)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:252)
	at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:401)
	at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:363)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)
	... 84 more
2009-10-18 21:06:56,000 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2009-10-18 21:06:56,000 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2009-10-18 21:06:56,000 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2009-10-18 21:06:56,000 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:06:56,000 - Do unicode file recognition:  false
2009-10-18 21:06:56,000 - FileResourceLoader : adding path 'C:\Coding\DHIS-Patient\dhis-patient\dhis-2\dhis-web\dhis-web-caseentry\target\work\webapp'
2009-10-18 21:06:56,015 - ResourceLoader instantiated: org.apache.struts2.views.velocity.StrutsResourceLoader
2009-10-18 21:06:56,015 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2009-10-18 21:06:56,015 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2009-10-18 21:06:56,015 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2009-10-18 21:06:56,015 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2009-10-18 21:06:56,015 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2009-10-18 21:06:56,015 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2009-10-18 21:06:56,015 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionDirective
2009-10-18 21:06:56,015 - Loaded User Directive: org.apache.struts2.views.velocity.components.BeanDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxListDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComboBoxDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComponentDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.DateDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.DivDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.DoubleSelectDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.FileDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.FormDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.HeadDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.HiddenDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.AnchorDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.I18nDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.IncludeDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.LabelDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.ParamDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.PasswordDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.PushDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.PropertyDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.RadioDirective
2009-10-18 21:06:56,031 - Loaded User Directive: org.apache.struts2.views.velocity.components.SelectDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.SetDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.SubmitDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.ResetDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextAreaDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextFieldDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.TokenDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.URLDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionErrorDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionMessageDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.FieldErrorDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.OptionTransferSelectDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.UpDownSelectDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.BeanDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxListDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComboBoxDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComponentDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.DateDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.DivDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.DoubleSelectDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.FileDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.FormDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.HeadDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.HiddenDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.AnchorDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.I18nDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.IncludeDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.LabelDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.ParamDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.PasswordDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.PushDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.PropertyDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.RadioDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.SelectDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.SetDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.SubmitDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.ResetDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextAreaDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextFieldDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.TokenDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.URLDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionErrorDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionMessageDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.FieldErrorDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.OptionTransferSelectDirective
2009-10-18 21:06:56,046 - Loaded User Directive: org.apache.struts2.views.velocity.components.UpDownSelectDirective
2009-10-18 21:06:56,078 - Created '20' parsers.
2009-10-18 21:06:56,078 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2009-10-18 21:06:56,078 - Velocimacro : Default library not found.
2009-10-18 21:06:56,078 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2009-10-18 21:06:56,078 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2009-10-18 21:06:56,078 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2009-10-18 21:06:56,078 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2009-10-18 21:06:56,125 - ResourceManager : found /main.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:06:56,171 - ResourceManager : found settings.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:06:56,187 - Velocimacro : added #objectList(  objectName objects ) : source = macros.vm
2009-10-18 21:06:56,187 - Velocimacro : added #alternate(  mark ) : source = macros.vm
2009-10-18 21:06:56,187 - Velocimacro : added #formatBool(  bool ) : source = macros.vm
2009-10-18 21:06:56,187 - Velocimacro : added #formatAggregationOperator(  operator ) : source = macros.vm
2009-10-18 21:06:56,187 - Velocimacro : added #formatType(  type ) : source = macros.vm
2009-10-18 21:06:56,187 - Velocimacro : added #openHelp(  id ) : source = macros.vm
2009-10-18 21:06:56,187 - ResourceManager : found macros.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:06:56,203 - ResourceManager : found /dhis-web-caseentry/menu.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:06:56,203 - Velocimacro : added #parseNode(  node ) : source = /dhis-web-commons/ouwt/orgunittree.vm
2009-10-18 21:06:56,218 - ResourceManager : found /dhis-web-commons/ouwt/orgunittree.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:06:56,218 - ResourceManager : found /dhis-web-caseentry/select.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:06:58,062 - ResourceManager : found /dhis-web-commons/ouwt/responseSelect.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:06:58,265 - ResourceManager : found /dhis-web-caseentry/search.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:06:59,140 - ResourceManager : found /dhis-web-caseentry/visitPlan.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:06:59,140 - ResourceManager : found /dhis-web-caseentry/visitPlanSelect.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:07:04,109 - ResourceManager : found /dhis-web-commons/ouwt/responseExpand.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:08:36,953 - Log4JLogChute initialized using file 'velocity.log'
2009-10-18 21:08:36,953 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2009-10-18 21:08:36,953 - Default Properties File: org\apache\velocity\runtime\defaults\velocity.properties
2009-10-18 21:08:36,953 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2009-10-18 21:08:36,953 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:247)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.apache.struts2.views.velocity.VelocityManager.newVelocityEngine(VelocityManager.java:473)
	at org.apache.struts2.views.velocity.VelocityManager.init(VelocityManager.java:243)
	at org.apache.struts2.dispatcher.VelocityResult.doExecute(VelocityResult.java:131)
	at org.apache.struts2.dispatcher.StrutsResultSupport.execute(StrutsResultSupport.java:186)
	at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:265)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalUserInterceptor.intercept(WebWorkPortalUserInterceptor.java:82)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalModuleInterceptor.intercept(WebWorkPortalModuleInterceptor.java:85)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalMenuInterceptor.intercept(WebWorkPortalMenuInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalParamsInterceptor.intercept(WebWorkPortalParamsInterceptor.java:117)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.StyleInterceptor.intercept(StyleInterceptor.java:89)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.SystemSettingInterceptor.intercept(SystemSettingInterceptor.java:92)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.DataDictionaryModeInterceptor.intercept(DataDictionaryModeInterceptor.java:109)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.DisplayPropertyInterceptor.intercept(DisplayPropertyInterceptor.java:90)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.SortOrderInterceptor.intercept(SortOrderInterceptor.java:124)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.security.intercept.WebWorkSecurityInterceptor.intercept(WebWorkSecurityInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:122)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:126)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:148)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.AbstractPreResultListener.intercept(AbstractPreResultListener.java:71)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:52)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:468)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:395)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:264)
	at org.hisp.dhis.security.filter.RequiredLoginFilter.doFilter(RequiredLoginFilter.java:131)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.hisp.dhis.security.filter.AutomaticAccessFilter.doFilter(AutomaticAccessFilter.java:107)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.ui.logout.LogoutFilter.doFilter(LogoutFilter.java:108)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:217)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:193)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:148)
	at org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:535)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:865)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:307)
	at org.codehaus.classworlds.RealmClassLoader.loadClassDirect(RealmClassLoader.java:195)
	at org.codehaus.classworlds.DefaultClassRealm.loadClass(DefaultClassRealm.java:255)
	at org.codehaus.classworlds.DefaultClassRealm.loadClass(DefaultClassRealm.java:274)
	at org.codehaus.classworlds.RealmClassLoader.loadClass(RealmClassLoader.java:214)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:252)
	at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:401)
	at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:363)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)
	... 84 more
2009-10-18 21:08:36,953 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2009-10-18 21:08:36,953 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2009-10-18 21:08:36,953 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2009-10-18 21:08:36,953 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:08:36,953 - Do unicode file recognition:  false
2009-10-18 21:08:36,953 - FileResourceLoader : adding path 'C:\Coding\DHIS-Patient\dhis-patient\dhis-2\dhis-web\dhis-web-caseentry\target\work\webapp'
2009-10-18 21:08:36,953 - ResourceLoader instantiated: org.apache.struts2.views.velocity.StrutsResourceLoader
2009-10-18 21:08:36,968 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2009-10-18 21:08:36,968 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2009-10-18 21:08:36,968 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2009-10-18 21:08:36,968 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2009-10-18 21:08:36,968 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2009-10-18 21:08:36,968 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2009-10-18 21:08:36,968 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionDirective
2009-10-18 21:08:36,968 - Loaded User Directive: org.apache.struts2.views.velocity.components.BeanDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxListDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComboBoxDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComponentDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.DateDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.DivDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.DoubleSelectDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.FileDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.FormDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.HeadDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.HiddenDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.AnchorDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.I18nDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.IncludeDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.LabelDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.ParamDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.PasswordDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.PushDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.PropertyDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.RadioDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.SelectDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.SetDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.SubmitDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.ResetDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextAreaDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextFieldDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.TokenDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.URLDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionErrorDirective
2009-10-18 21:08:36,984 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionMessageDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.FieldErrorDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.OptionTransferSelectDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.UpDownSelectDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.BeanDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxListDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComboBoxDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComponentDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.DateDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.DivDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.DoubleSelectDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.FileDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.FormDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.HeadDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.HiddenDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.AnchorDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.I18nDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.IncludeDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.LabelDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.ParamDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.PasswordDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.PushDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.PropertyDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.RadioDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.SelectDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.SetDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.SubmitDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.ResetDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextAreaDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextFieldDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.TokenDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.URLDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionErrorDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionMessageDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.FieldErrorDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.OptionTransferSelectDirective
2009-10-18 21:08:37,000 - Loaded User Directive: org.apache.struts2.views.velocity.components.UpDownSelectDirective
2009-10-18 21:08:37,031 - Created '20' parsers.
2009-10-18 21:08:37,031 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2009-10-18 21:08:37,031 - Velocimacro : Default library not found.
2009-10-18 21:08:37,031 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2009-10-18 21:08:37,031 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2009-10-18 21:08:37,031 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2009-10-18 21:08:37,031 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2009-10-18 21:08:37,062 - ResourceManager : found /main.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:08:37,125 - ResourceManager : found settings.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:08:37,140 - Velocimacro : added #objectList(  objectName objects ) : source = macros.vm
2009-10-18 21:08:37,140 - Velocimacro : added #alternate(  mark ) : source = macros.vm
2009-10-18 21:08:37,140 - Velocimacro : added #formatBool(  bool ) : source = macros.vm
2009-10-18 21:08:37,140 - Velocimacro : added #formatAggregationOperator(  operator ) : source = macros.vm
2009-10-18 21:08:37,140 - Velocimacro : added #formatType(  type ) : source = macros.vm
2009-10-18 21:08:37,140 - Velocimacro : added #openHelp(  id ) : source = macros.vm
2009-10-18 21:08:37,140 - ResourceManager : found macros.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:08:37,156 - ResourceManager : found /dhis-web-caseentry/menu.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:08:37,156 - Velocimacro : added #parseNode(  node ) : source = /dhis-web-commons/ouwt/orgunittree.vm
2009-10-18 21:08:37,171 - ResourceManager : found /dhis-web-commons/ouwt/orgunittree.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:08:37,171 - ResourceManager : found /dhis-web-caseentry/select.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:08:38,687 - ResourceManager : found /dhis-web-commons/ouwt/responseSelect.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:08:38,875 - ResourceManager : found /dhis-web-caseentry/search.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:08:39,765 - ResourceManager : found /dhis-web-caseentry/visitPlan.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:08:39,765 - ResourceManager : found /dhis-web-caseentry/visitPlanSelect.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:08:42,031 - ResourceManager : found /dhis-web-commons/ouwt/responseExpand.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:12:08,468 - Log4JLogChute initialized using file 'velocity.log'
2009-10-18 21:12:08,468 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2009-10-18 21:12:08,468 - Default Properties File: org\apache\velocity\runtime\defaults\velocity.properties
2009-10-18 21:12:08,468 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2009-10-18 21:12:08,468 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:247)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.apache.struts2.views.velocity.VelocityManager.newVelocityEngine(VelocityManager.java:473)
	at org.apache.struts2.views.velocity.VelocityManager.init(VelocityManager.java:243)
	at org.apache.struts2.dispatcher.VelocityResult.doExecute(VelocityResult.java:131)
	at org.apache.struts2.dispatcher.StrutsResultSupport.execute(StrutsResultSupport.java:186)
	at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:265)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalUserInterceptor.intercept(WebWorkPortalUserInterceptor.java:82)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalModuleInterceptor.intercept(WebWorkPortalModuleInterceptor.java:85)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalMenuInterceptor.intercept(WebWorkPortalMenuInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalParamsInterceptor.intercept(WebWorkPortalParamsInterceptor.java:117)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.StyleInterceptor.intercept(StyleInterceptor.java:89)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.SystemSettingInterceptor.intercept(SystemSettingInterceptor.java:92)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.DataDictionaryModeInterceptor.intercept(DataDictionaryModeInterceptor.java:109)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.DisplayPropertyInterceptor.intercept(DisplayPropertyInterceptor.java:90)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.SortOrderInterceptor.intercept(SortOrderInterceptor.java:124)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.security.intercept.WebWorkSecurityInterceptor.intercept(WebWorkSecurityInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:122)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:126)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:148)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.AbstractPreResultListener.intercept(AbstractPreResultListener.java:71)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:52)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:468)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:395)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:264)
	at org.hisp.dhis.security.filter.RequiredLoginFilter.doFilter(RequiredLoginFilter.java:131)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.hisp.dhis.security.filter.AutomaticAccessFilter.doFilter(AutomaticAccessFilter.java:107)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.ui.logout.LogoutFilter.doFilter(LogoutFilter.java:108)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:217)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:193)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:148)
	at org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:535)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:865)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:307)
	at org.codehaus.classworlds.RealmClassLoader.loadClassDirect(RealmClassLoader.java:195)
	at org.codehaus.classworlds.DefaultClassRealm.loadClass(DefaultClassRealm.java:255)
	at org.codehaus.classworlds.DefaultClassRealm.loadClass(DefaultClassRealm.java:274)
	at org.codehaus.classworlds.RealmClassLoader.loadClass(RealmClassLoader.java:214)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:252)
	at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:401)
	at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:363)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)
	... 84 more
2009-10-18 21:12:08,468 - Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute
2009-10-18 21:12:08,468 - Using logger class org.apache.velocity.runtime.log.Log4JLogChute
2009-10-18 21:12:08,468 - Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
2009-10-18 21:12:08,484 - ResourceLoader instantiated: org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:12:08,484 - Do unicode file recognition:  false
2009-10-18 21:12:08,484 - FileResourceLoader : adding path 'C:\Coding\DHIS-Patient\dhis-patient\dhis-2\dhis-web\dhis-web-caseentry\target\work\webapp'
2009-10-18 21:12:08,484 - ResourceLoader instantiated: org.apache.struts2.views.velocity.StrutsResourceLoader
2009-10-18 21:12:08,484 - ResourceCache: initialized (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
2009-10-18 21:12:08,484 - Loaded System Directive: org.apache.velocity.runtime.directive.Literal
2009-10-18 21:12:08,484 - Loaded System Directive: org.apache.velocity.runtime.directive.Macro
2009-10-18 21:12:08,484 - Loaded System Directive: org.apache.velocity.runtime.directive.Parse
2009-10-18 21:12:08,484 - Loaded System Directive: org.apache.velocity.runtime.directive.Include
2009-10-18 21:12:08,484 - Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.BeanDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxListDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComboBoxDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComponentDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.DateDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.DivDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.DoubleSelectDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.FileDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.FormDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.HeadDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.HiddenDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.AnchorDirective
2009-10-18 21:12:08,500 - Loaded User Directive: org.apache.struts2.views.velocity.components.I18nDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.IncludeDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.LabelDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ParamDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.PasswordDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.PushDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.PropertyDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.RadioDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.SelectDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.SetDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.SubmitDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ResetDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextAreaDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextFieldDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.TokenDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.URLDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionErrorDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionMessageDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.FieldErrorDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.OptionTransferSelectDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.UpDownSelectDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.BeanDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.CheckBoxListDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComboBoxDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ComponentDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.DateDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.DivDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.DoubleSelectDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.FileDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.FormDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.HeadDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.HiddenDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.AnchorDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.I18nDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.IncludeDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.LabelDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ParamDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.PasswordDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.PushDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.PropertyDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.RadioDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.SelectDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.SetDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.SubmitDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ResetDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextAreaDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.TextFieldDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.TokenDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.URLDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionErrorDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.ActionMessageDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.FieldErrorDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.OptionTransferSelectDirective
2009-10-18 21:12:08,515 - Loaded User Directive: org.apache.struts2.views.velocity.components.UpDownSelectDirective
2009-10-18 21:12:08,546 - Created '20' parsers.
2009-10-18 21:12:08,562 - Velocimacro : "velocimacro.library" is not set.  Trying default library: VM_global_library.vm
2009-10-18 21:12:08,562 - Velocimacro : Default library not found.
2009-10-18 21:12:08,562 - Velocimacro : allowInline = true : VMs can be defined inline in templates
2009-10-18 21:12:08,562 - Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
2009-10-18 21:12:08,562 - Velocimacro : allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
2009-10-18 21:12:08,562 - Velocimacro : autoload off : VM system will not automatically reload global library macros
2009-10-18 21:12:08,593 - ResourceManager : found /main.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:12:08,640 - ResourceManager : found settings.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:12:08,656 - Velocimacro : added #objectList(  objectName objects ) : source = macros.vm
2009-10-18 21:12:08,656 - Velocimacro : added #alternate(  mark ) : source = macros.vm
2009-10-18 21:12:08,656 - Velocimacro : added #formatBool(  bool ) : source = macros.vm
2009-10-18 21:12:08,656 - Velocimacro : added #formatAggregationOperator(  operator ) : source = macros.vm
2009-10-18 21:12:08,656 - Velocimacro : added #formatType(  type ) : source = macros.vm
2009-10-18 21:12:08,671 - Velocimacro : added #openHelp(  id ) : source = macros.vm
2009-10-18 21:12:08,671 - ResourceManager : found macros.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:12:08,671 - ResourceManager : found /dhis-web-caseentry/menu.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:12:08,687 - Velocimacro : added #parseNode(  node ) : source = /dhis-web-commons/ouwt/orgunittree.vm
2009-10-18 21:12:08,687 - ResourceManager : found /dhis-web-commons/ouwt/orgunittree.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:12:08,703 - ResourceManager : found /dhis-web-caseentry/select.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:12:11,015 - ResourceManager : found /dhis-web-commons/ouwt/responseExpand.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:12:12,109 - ResourceManager : found /dhis-web-caseentry/visitPlanSelect.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:12:14,140 - ResourceManager : found /dhis-web-commons/ouwt/responseSelect.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:12:15,015 - ResourceManager : found /dhis-web-caseentry/visitPlan.vm with loader org.apache.velocity.runtime.resource.loader.FileResourceLoader
2009-10-18 21:15:09,656 - Log4JLogChute initialized using file 'velocity.log'
2009-10-18 21:15:09,656 - Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29)
2009-10-18 21:15:09,656 - Default Properties File: org\apache\velocity\runtime\defaults\velocity.properties
2009-10-18 21:15:09,656 - Trying to use logger class org.apache.velocity.runtime.log.AvalonLogChute
2009-10-18 21:15:09,656 - Couldn't find class org.apache.velocity.runtime.log.AvalonLogChute or necessary supporting classes in classpath.
java.lang.NoClassDefFoundError: org/apache/log/format/Formatter
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:247)
	at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:63)
	at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95)
	at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)
	at org.apache.velocity.runtime.log.LogManager.updateLog(LogManager.java:208)
	at org.apache.velocity.runtime.RuntimeInstance.initializeLog(RuntimeInstance.java:728)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:240)
	at org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:534)
	at org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:144)
	at org.apache.struts2.views.velocity.VelocityManager.newVelocityEngine(VelocityManager.java:473)
	at org.apache.struts2.views.velocity.VelocityManager.init(VelocityManager.java:243)
	at org.apache.struts2.dispatcher.VelocityResult.doExecute(VelocityResult.java:131)
	at org.apache.struts2.dispatcher.StrutsResultSupport.execute(StrutsResultSupport.java:186)
	at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:265)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalUserInterceptor.intercept(WebWorkPortalUserInterceptor.java:82)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalModuleInterceptor.intercept(WebWorkPortalModuleInterceptor.java:85)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalMenuInterceptor.intercept(WebWorkPortalMenuInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.webportal.interceptor.WebWorkPortalParamsInterceptor.intercept(WebWorkPortalParamsInterceptor.java:117)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.StyleInterceptor.intercept(StyleInterceptor.java:89)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.SystemSettingInterceptor.intercept(SystemSettingInterceptor.java:92)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.DataDictionaryModeInterceptor.intercept(DataDictionaryModeInterceptor.java:109)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.DisplayPropertyInterceptor.intercept(DisplayPropertyInterceptor.java:90)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.SortOrderInterceptor.intercept(SortOrderInterceptor.java:124)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.security.intercept.WebWorkSecurityInterceptor.intercept(WebWorkSecurityInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:122)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:126)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:148)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.hisp.dhis.interceptor.AbstractPreResultListener.intercept(AbstractPreResultListener.java:71)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:52)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:468)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:395)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:264)
	at org.hisp.dhis.security.filter.RequiredLoginFilter.doFilter(RequiredLoginFilter.java:131)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.hisp.dhis.security.filter.AutomaticAccessFilter.doFilter(AutomaticAccessFilter.java:107)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.ui.logout.LogoutFilter.doFilter(LogoutFilter.java:108)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:217)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:193)
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:274)
	at org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:148)
	at org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:535)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:865)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)
Caused by: java.lang.ClassNotFoundException: org.apache.log.format.Formatter
	at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:307)
	at org.codehaus.classworlds.RealmClassLoader.loadClassDirect(RealmClassLoader.java:195)
	at org.codehaus.classworlds.DefaultClassRealm.loadClass(DefaultClassRealm.java:255)
	at org.codehaus.classworlds.DefaultClassRealm.loadClass(DefaultClassRealm.java:274)
	at org.codehaus.classworlds.RealmClassLoader.loadClass(RealmClassLoader.java:214)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:252)
	at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:401)
	at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:363)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)
	... 84 more
