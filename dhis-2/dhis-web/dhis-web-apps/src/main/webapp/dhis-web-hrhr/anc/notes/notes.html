<div class="panel panel-primary" ng-controller="NotesController">
    <div class="panel-heading">
        {{'notes'| translate}}
        <span class="btn-group-sm right">
            <span ng-show="selectedEnrollment.notes.length > 5"><a href ng-click="searchNote()" title="{{'search_note'| translate}}"><i class="fa fa-search fa-lg"></i></a></span> 
            &nbsp;&nbsp;
            <a href ng-click="showAddNote()" title="{{'add_note'| translate}}"><i class="fa fa-plus fa-lg"></i></a>   
        </span>
    </div>
    <div ng-show="searchNoteField">
        <div class="list-group">
            <input class="form-control" ng-model="noteSearchText" ng-blur="searchNote()" placeholder="{{'type_for_search'| translate}}">            
        </div>
    </div>

    <div ng-show="addNoteField">
        <div class="list-group">
            <textarea class="form-control" rows="3" ng-model="note" placeholder="{{'enter_your_note_here'| translate}}"></textarea>                          
        </div>
        <button ng-click="addNote()" class="big-button lightblue">
            {{'add'| translate}}
        </button>
        <button ng-click="closeAddNote()" class="big-button grey">
            {{'cancel'| translate}}
        </button>
    </div>
    <!--<div class="list-group" ng-repeat="note in selectedEnrollment.notes| filter:noteSearchText">
        <div class="over-flow-hidden">
            <a href ng-click="displayNote(note)" title="{{'details'| translate}}" class="list-group-item"><i>{{note.storedDate}}</i> - {{note.value}}</a> 
        </div>
    </div>  -->

    <div ng-show='selectedEnrollment' class='remove-default-padding overflow-ellipsis'>
        <table class="table table-striped dhis2-table-hover">
            <tr ng-repeat="note in selectedEnrollment.notes| filter:noteSearchText">
                <td>
            <d2-pop-over content="note" template="note.html" details="{{'details'| translate}}">
                <div>{{note.value}}</div>
            </d2-pop-over>
            <script type="text/ng-template" id="note.html">
                <p>{{content.value}}</p>
                <hr>
                <p><strong>{{'created_by' | translate}}: </strong>{{content.storedBy}}</p>
                <p><strong>{{'date' | translate}}: </strong>{{content.storedDate}}</p>                           
            </script>
            </td> 
            </tr>
        </table>
    </div>

</div>