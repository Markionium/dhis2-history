<script>
//-----------------------------------------------------------------------
//init jQuery validation for updateResourceViewerForm
//-----------------------------------------------------------------------
	jQuery(document).ready(
			function()
			{
				jQuery("#updateResourceViewerForm").validate({
					 meta:"validate"
					,errorElement:"td"
					,submitHandler: function(form)
									{
										validateAddUpdateResourceViewer( 'update' );
									}
				});
				//jQuery.validator.loadLocaled( jQuery("#curLocaleCode").val() );
				jQuery.validator.setMessages( validationMessage );
				jQuery("#name").focus();
			}
	);

</script>
<input type="hidden" id="curLocaleCode" value="$locale.getLanguage()_$locale.getCountry()"/>

<h3>$encoder.htmlEncode( $i18n.getString( "update_resource_viewer" ) )</h3>

<form id="updateResourceViewerForm" action="updateResourceViewerInstance.action" method="post" >

	<div><input type="hidden" id="id" name="id" value="$!resourceViewerObject.id"/>
	<input type="hidden" id="name" name="name" value="$!encoder.htmlEncode( $!resourceViewerObject.name )"/></div>

	<table>
		<tr>
			<th colspan="2">$i18n.getString( "details" )</th>
		</tr>
		<tr>
			<td><label for="name">$encoder.htmlEncode( $i18n.getString( "name" ) ) <em title="$i18n.getString( "required" )" class="required">*</em></label></td>
			<td><input type="text" id="nameField" name="nameField" value="$!encoder.htmlEncode( $!resourceViewerObject.name )" style="width:20em" maxlength="50" disabled /></td>
		</tr>
		<tr>
			<td><label for="description">$encoder.htmlEncode( $i18n.getString( "description" ) ) <em title="$i18n.getString( "required" )" class="required">*</em></label></td>
			<td><textarea id="description" name="description" style="width:20em; height:6em" class="{validate:{required:true,minlength:2,maxlength:255}}">$!encoder.htmlEncode( $!resourceViewerObject.description )</textarea></td>
		</tr>
		<tr>
			<td><label for="sql_statement">$encoder.htmlEncode( $i18n.getString( "sql_statement" ) ) <em title="$i18n.getString( "required" )" class="required">*</em></label></td>
			<td><textarea type="text" id="sqlquery" name="sqlquery" style="width:80em;height:20em" class="{validate:{required:true,minlength:14}}">$!encoder.htmlEncode( $!resourceViewerObject.sqlQuery )</textarea></td>
		</tr>

		<tr>
			<td></td>
			<td><input type="submit" value="$i18n.getString( 'update' )" style="width:10em"/>
			<input type="button" value="$i18n.getString( 'cancel' )" id="cancel" name="cancel" onclick="window.location.href='showResourceViewerListForm.action'" style="width:10em"/></td>		
		</tr>
	</table>

</form>

<span id="message"></span>