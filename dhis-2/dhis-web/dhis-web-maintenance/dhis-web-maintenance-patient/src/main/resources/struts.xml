<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

  <include file="dhis-web-commons.xml"/>
  
  <package name="dhis-web-maintenance-patient" extends="dhis-web-commons" namespace="/dhis-web-maintenance-patient">
	  
	<action name="index" class="org.hisp.dhis.patient.action.NoAction">      
      <result name="success" type="velocity">/main.vm</result>     
      <param name="page">/dhis-web-maintenance-patient/index.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/menu.vm</param> 
    </action>	  
    
    <!-- HouseHold -->
    
    <action name="household" class="org.hisp.dhis.patient.action.household.SelectHouseHoldAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="householdform" type="chain">householdform</result>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/selectHouseHold.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/patientMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js</param>	           
    </action>
    
    <action name="householdform" class="org.hisp.dhis.patient.action.household.GetHouseHoldListAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/houseHold.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/patientMenu.vm</param>        
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/houseHold.js</param>            
    </action>
    
    <action name="getHouseHold" class="org.hisp.dhis.patient.action.household.GetHouseHoldAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseHouseHold.vm</result>
      <param name="onExceptionReturn">plainTextError</param>      
    </action>
    
    <action name="removeHouseHold" class="org.hisp.dhis.patient.action.household.RemoveHouseHoldAction">
      <interceptor-ref name="organisationUnitTreeStack"/>      
      <result name="success" type="redirect">household.action</result>      
      <param name="requiredAuthorities">F_HOUSEHOLD_DELETE</param>      
    </action>
    
    <action name="addHouseHold" class="org.hisp.dhis.patient.action.household.AddHouseHoldAction">
      <result name="success" type="redirect">household.action</result>
      <param name="requiredAuthorities">F_HOUSEHOLD_ADD</param>
    </action>
    
    <action name="showAddHouseHoldForm" class="org.hisp.dhis.patient.action.household.ShowAddHouseHoldFormAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/addHouseHoldForm.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/patientMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/houseHold.js</param>
      <param name="requiredAuthorities">F_HOUSEHOLD_ADD</param>      
    </action>
    
    <action name="showUpdateHouseHoldForm" class="org.hisp.dhis.patient.action.household.GetHouseHoldAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/updateHouseHoldForm.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/patientMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/houseHold.js</param>
      <param name="requiredAuthorities">F_HOUSEHOLD_UPDATE</param>      
    </action>
    
    <action name="updateHouseHold" class="org.hisp.dhis.patient.action.household.UpdateHouseHoldAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="success" type="redirect">household.action</result>
      <param name="requiredAuthorities">F_HOUSEHOLD_UPDATE</param>
    </action>
    
    <action name="validateHouseHold" class="org.hisp.dhis.patient.action.household.ValidateHouseHoldAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseSuccess.vm</result>
      <result name="error" type="velocity-xml">/dhis-web-maintenance-patient/responseError.vm</result>
      <result name="input" type="velocity-xml">/dhis-web-maintenance-patient/responseInput.vm</result>
      <param name="onExceptionReturn">plainTextError</param>      
    </action>      
	  
	<!-- Patient -->	
    
    <action name="patient" class="org.hisp.dhis.patient.action.patient.SelectPatientAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="patientform" type="chain">patientform</result>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/selectPatient.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/patientMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js</param>               
    </action>
    
    <action name="patientform" class="org.hisp.dhis.patient.action.NoAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/patient.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/patientMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/patient.js</param>            
    </action>    
        
    <action name="searchPatient" class="org.hisp.dhis.patient.action.patient.SearchPatientAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/listPatient.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/patientMenu.vm</param>        
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/patient.js</param>            
    </action> 
    
    <action name="getPatient" class="org.hisp.dhis.patient.action.patient.GetPatientAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responsePatient.vm</result>
      <param name="onExceptionReturn">plainTextError</param>      
    </action>   
    
    <action name="removePatient" class="org.hisp.dhis.patient.action.patient.RemovePatientAction">
      <result name="success" type="redirect">patientform.action</result>      
      <param name="requiredAuthorities">F_PATIENT_DELETE</param>      
    </action>
    
    <action name="addPatient" class="org.hisp.dhis.patient.action.patient.AddPatientAction">
      <result name="success" type="redirect">patient.action</result>
      <param name="requiredAuthorities">F_PATIENT_ADD</param>
    </action>
    
    <action name="showAddPatientForm" class="org.hisp.dhis.patient.action.patient.ShowAddPatientFormAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/addPatientForm.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/patientMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js,javascript/patient.js</param>
      <param name="requiredAuthorities">F_PATIENT_ADD</param>      
    </action>           
   
    <action name="showUpdatePatientForm" class="org.hisp.dhis.patient.action.patient.GetPatientAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/updatePatientForm.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/patientMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js,javascript/patient.js</param>
      <param name="requiredAuthorities">F_PATIENT_UPDATE</param>      
    </action>
    
    <action name="updatePatient"
      class="org.hisp.dhis.patient.action.patient.UpdatePatientAction">
      <result name="success" type="redirect">patient.action</result>
      <param name="requiredAuthorities">F_PATIENT_UPDATE</param>
    </action>
    
    <action name="showProgramEnrollmentForm" class="org.hisp.dhis.patient.action.patient.GetPatientAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/programEnrollmentForm.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/patientMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js,javascript/patient.js</param>
      <param name="requiredAuthorities">F_PATIENT_UPDATE</param>      
    </action>   
    
    <action name="updateProgramEnrollment"
      class="org.hisp.dhis.patient.action.patient.UpdateProgramEnrollmentAction">
      <result name="success" type="redirect">patient.action</result>
      <param name="javascripts">javascript/patient.js</param>
      <param name="requiredAuthorities">F_PATIENT_UPDATE</param>
    </action>   
    
    <action name="validatePatient"
      class="org.hisp.dhis.patient.action.patient.ValidatePatientAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseSuccess.vm</result>
      <result name="error" type="velocity-xml">/dhis-web-maintenance-patient/responseError.vm</result>
      <result name="input" type="velocity-xml">/dhis-web-maintenance-patient/responseInput.vm</result>
      <param name="onExceptionReturn">plainTextError</param>
    </action>
    
    <action name="validateSearchPatient"
      class="org.hisp.dhis.patient.action.patient.ValidateSearchPatientAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseSuccess.vm</result>
      <result name="error" type="velocity-xml">/dhis-web-maintenance-patient/responseError.vm</result>
      <result name="input" type="velocity-xml">/dhis-web-maintenance-patient/responseInput.vm</result>
      <param name="onExceptionReturn">plainTextError</param>
    </action>  
    
    <action name="getHouseHoldMembers" class="org.hisp.dhis.patient.action.patient.GetHouseHoldMembersAction">      
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseMemberList.vm</result>
      <param name="onExceptionReturn">plainTextError</param>               
    </action> 
        
    <!-- Program -->   
    
    <action name="program" class="org.hisp.dhis.patient.action.program.GetProgramListAction">      
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/programList.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/programMenu.vm</param>        
      <param name="javascripts">javascript/program.js</param>            
    </action>
    
    <action name="getProgram" class="org.hisp.dhis.patient.action.program.GetProgramAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseProgram.vm</result>
      <param name="onExceptionReturn">plainTextError</param>      
    </action>
    
    <action name="removeProgram" class="org.hisp.dhis.patient.action.program.RemoveProgramAction">            
      <result name="success" type="redirect">program.action</result>      
      <param name="requiredAuthorities">F_PROGRAM_DELETE</param>      
    </action>
    
    <action name="addProgram" class="org.hisp.dhis.patient.action.program.AddProgramAction">
      <result name="success" type="redirect">program.action</result>
      <param name="requiredAuthorities">F_PROGRAM_ADD</param>
    </action>
    
    <action name="showAddProgramForm" class="org.hisp.dhis.patient.action.program.ShowAddProgramFormAction">      
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/addProgramForm.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/programMenu.vm</param>      
      <param name="javascripts">javascript/program.js</param>
      <param name="requiredAuthorities">F_PROGRAM_ADD</param>      
    </action>
    
    <action name="showUpdateProgramForm" class="org.hisp.dhis.patient.action.program.GetProgramAction">      
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/updateProgramForm.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/programMenu.vm</param>      
      <param name="javascripts">javascript/program.js</param>
      <param name="requiredAuthorities">F_PROGRAM_UPDATE</param>      
    </action>
    
    <action name="updateProgram" class="org.hisp.dhis.patient.action.program.UpdateProgramAction">      
      <result name="success" type="redirect">program.action</result>
      <param name="requiredAuthorities">F_PROGRAM_UPDATE</param>
    </action>
    
    <action name="validateProgram" class="org.hisp.dhis.patient.action.program.ValidateProgramAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseSuccess.vm</result>
      <result name="error" type="velocity-xml">/dhis-web-maintenance-patient/responseError.vm</result>
      <result name="input" type="velocity-xml">/dhis-web-maintenance-patient/responseInput.vm</result>
      <param name="onExceptionReturn">plainTextError</param>      
    </action> 
    
    <!-- Program_OrganisationUnit Association -->   
    
    <action name="defineProgramAssociationsForm"
      class="org.hisp.dhis.patient.action.program.SetupAssociationsTreeAction">
      <result name="success" type="chain">getProgramAssociationOptions</result>
      <param name="requiredAuthorities">F_PROGRAM_UPDATE</param>
    </action>
    
    <action name="getProgramAssociationOptions"
      class="org.hisp.dhis.patient.action.program.GetProgramAction">
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/programAssociations.vm</param>
      <param name="javascripts">../dhis-web-commons/oust/oust.js,javascript/associations.js</param>
      <param name="requiredAuthorities">F_PROGRAM_UPDATE</param>
    </action>
    
    <action name="defineProgramAssociations"
      class="org.hisp.dhis.patient.action.program.DefineProgramAssociationsAction">
      <result name="success" type="redirect">program.action</result>
      <param name="requiredAuthorities">F_PROGRAM_UPDATE</param>
    </action>
    
    <action name="selectLevel"
      class="org.hisp.dhis.patient.action.program.SelectLevelAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseSuccess.vm</result>
      <param name="requiredAuthorities">F_PROGRAM_UPDATE</param>
    </action>
    
    <action name="unselectLevel"
      class="org.hisp.dhis.patient.action.program.UnselectLevelAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseSuccess.vm</result>
      <param name="requiredAuthorities">F_PROGRAM_UPDATE</param>
    </action>
    
    <action name="selectOrganisationUnitGroup"
      class="org.hisp.dhis.patient.action.program.SelectOrganisationUnitGroupAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseSuccess.vm</result>
      <param name="requiredAuthorities">F_PROGRAM_UPDATE</param>
    </action>
    
    <action name="unselectOrganisationUnitGroup"
      class="org.hisp.dhis.patient.action.program.UnselectOrganisationUnitGroupAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseSuccess.vm</result>
      <param name="requiredAuthorities">F_PROGRAM_UPDATE</param>
    </action>
    
    <action name="unselectAll"
      class="org.hisp.dhis.patient.action.program.UnselectAllAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseSuccess.vm</result>
      <param name="requiredAuthorities">F_PROGRAM_UPDATE</param>
    </action>     
    
    <!-- ProgramStage -->
    
    <action name="programStage" class="org.hisp.dhis.patient.action.programstage.GetProgramStageListAction">
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/programStageList.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/programMenu.vm</param>
      <param name="javascripts">javascript/programStage.js</param>
    </action>
    
    <action name="getProgramStage"
      class="org.hisp.dhis.patient.action.programstage.GetProgramStageAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseProgramStage.vm</result>
      <param name="onExceptionReturn">plainTextError</param>
    </action>
    
    <action name="showAddProgramStageForm" class="org.hisp.dhis.patient.action.programstage.ShowAddProgramStageFormAction">
      <result name="input" type="velocity-xml">/dhis-web-maintenance-patient/responseInput.vm</result>      
      <result name="success" type="velocity">/main.vm</result>      
      <param name="page">/dhis-web-maintenance-patient/addProgramStageForm.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/programMenu.vm</param>      
      <param name="javascripts">javascript/programStage.js</param>
      <param name="requiredAuthorities">F_PROGRAMSTAGE_ADD</param>      
    </action>
    
    <action name="addProgramStage"
      class="org.hisp.dhis.patient.action.programstage.AddProgramStageAction">
      <result name="success" type="redirect">programStage.action</result>
      <param name="requiredAuthorities">F_PROGRAMSTAGE_ADD</param>
    </action>     
    
     <action name="validateProgramStage" class="org.hisp.dhis.patient.action.programstage.ValidateProgramStageAction">
      <result name="success" type="velocity-xml">/dhis-web-maintenance-patient/responseSuccess.vm</result>
      <result name="error" type="velocity-xml">/dhis-web-maintenance-patient/responseError.vm</result>
      <result name="input" type="velocity-xml">/dhis-web-maintenance-patient/responseInput.vm</result>
      <param name="onExceptionReturn">plainTextError</param>
    </action>
    
    <action name="updateProgramStage"
      class="org.hisp.dhis.patient.action.programstage.UpdateProgramStageAction">
      <result name="success" type="redirect">programStage.action</result>
      <param name="requiredAuthorities">F_PROGRAMSTAGE_UPDATE</param>
    </action>   
    
    <action name="showUpdateProgramStageForm" class="org.hisp.dhis.patient.action.programstage.GetProgramStageAction">      
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-maintenance-patient/updateProgramStageForm.vm</param>
      <param name="menu">/dhis-web-maintenance-patient/programMenu.vm</param>      
      <param name="javascripts">javascript/programStage.js</param>
      <param name="requiredAuthorities">F_PROGRAMSTAGE_UPDATE</param>      
    </action>
    
    <action name="removeProgramStage" class="org.hisp.dhis.patient.action.programstage.RemoveProgramStageAction">         
      <result name="success" type="redirect">programStage.action</result>      
      <param name="requiredAuthorities">F_PROGRAMSTAGE_DELETE</param>      
    </action>
    
  </package>
</struts>
